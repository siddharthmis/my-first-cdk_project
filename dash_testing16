# Top Failure Reasons (TEST WIDGET)
reasons = entry.get("Reasons", {})
if reasons:
    widgets.append({
        "type": "text", "x": 0, "y": y, "width": 12, "height": 6,
        "properties": {
            "markdown": f"### ❌ Top Failure Reasons\n- DEBUG: {len(reasons)} reasons"
        }
    })
    y += 6



widgets.insert(0, {
    "type": "text",
    "x": 0, "y": 0, "width": 24, "height": 2,
    "properties": {
        "markdown": "# ✅ TEXT WIDGET TEST\nThis should be visible at the top."
    }
})


print(f"Top reasons for {account_id} in {region}: {reasons}")
print(f"Top failing resources for {account_id} in {region}: {resource_failures}")
